{"version":3,"sources":["webpack:///./js/Helpers/index.js","webpack:///./js/googleMap.js","webpack:///./js/CountriesList.js","webpack:///./index.js","webpack:///./templates/extendedInfo.hbs","webpack:///./templates/listOfCountries.hbs","webpack:///./templates/country.hbs"],"names":["GOOGLE_KEY","requestCovidData","fetch","data","json","requestGeocode","country","GoogleMap","mapId","this","_mapId","scriptInit","init","_map","google","maps","Map","document","getElementById","center","lat","lng","zoom","styles","mapStyle","_script","createElement","defer","async","type","src","head","append","onload","panTo","isGeocodeInStaorage","panToCountry","JSON","parse","localStorage","getItem","geocodeHandler","setZoom","setTimeout","geometry","location","calculateZoom","request","cb","results","i","length","types","includes","drawCircles","countries","_maxCases","TotalConfirmed","delay","Country","drawCircle","throttleGeocodeRequest","res","setItem","stringify","position","color","calculateColor","Circle","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","map","radius","Math","sqrt","value","x","round","colorToHex","num","toString","result","northeast","bounds","southwest","temp","pow","CountriesList","selector","extInfoSelector","listRef","querySelector","extInfoRef","responseDataHandler","addEventListener","clickHandler","bind","Countries","_countries","normalizeData","drawContent","item","sort","a","b","innerHTML","countryListTemplate","drawExtInfo","extendedInfoTemplate","chooseCountry","target","dataset","hasOwnProperty","parentNode","bindMap","e","find","Handlebars","module","exports","template","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","call","stack1","lambda","invokePartial","decorators","program","noop"],"mappings":"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","file":"main.7949bf7ebee29f670859.js","sourcesContent":["export const GOOGLE_KEY = 'AIzaSyCt4W1fPSOmqULFw73S3-zkHycP0_5iG50';\r\n\r\nexport async function requestCovidData() {\r\n  const data = await fetch('https://api.covid19api.com/summary');\r\n  return data.json();\r\n}\r\n\r\nexport async function requestGeocode(country) {\r\n  const data = await fetch(\r\n    `https://maps.googleapis.com/maps/api/geocode/json?address=${country}&key=${GOOGLE_KEY}`,\r\n  );\r\n  return data.json();\r\n}\r\nexport async function requestGeocodeLatLng(latlng) {\r\n  const data = await fetch(\r\n    `https://maps.googleapis.com/maps/api/geocode/json?latlng=${latlng.lat},${latlng.lng}&key=${GOOGLE_KEY}`,\r\n  );\r\n  return data.json();\r\n}\r\n","import mapStyle from './mapStyle.json';\r\nimport { GOOGLE_KEY, requestGeocode, requestGeocodeLatLng } from './Helpers';\r\nimport { info } from 'autoprefixer';\r\n\r\nexport class GoogleMap {\r\n  constructor({ mapId }) {\r\n    this._mapId = mapId;\r\n    this.scriptInit();\r\n  }\r\n  init() {\r\n    this._map = new google.maps.Map(document.getElementById(this._mapId), {\r\n      center: { lat: 0, lng: 0 },\r\n      zoom: 4,\r\n      styles: mapStyle,\r\n    });\r\n  }\r\n  scriptInit() {\r\n    this._script = document.createElement('script');\r\n    this._script.defer = true;\r\n    this._script.async = true;\r\n    this._script.type = 'text/javascript';\r\n    this._script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_KEY}`;\r\n    document.head.append(this._script);\r\n    this._script.onload = () => this.init();\r\n  }\r\n  async panTo(country) {\r\n    this.isGeocodeInStaorage(country)\r\n      ? this.panToCountry(JSON.parse(localStorage.getItem(country)))\r\n      : this.panToCountry(await this.geocodeHandler(country, requestGeocode));\r\n  }\r\n  panToCountry(country) {\r\n    this._map.setZoom(2);\r\n    setTimeout(() => {\r\n      this._map.panTo(country.geometry.location);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this._map.setZoom(this.calculateZoom(country));\r\n    }, 1000);\r\n  }\r\n  isGeocodeInStaorage(country) {\r\n    if (\r\n      localStorage.getItem(country) !== null ||\r\n      localStorage.getItem(country) === 'undefined'\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  async geocodeHandler(request, cb) {\r\n    const { results } = await cb(request);\r\n    for (let i = 0; i < results.length; i += 1) {\r\n      if (\r\n        (results[i].types.includes('country') &&\r\n          results[i].types.includes('political')) ||\r\n        (results[i].types.includes('locality') &&\r\n          results[i].types.includes('political'))\r\n      ) {\r\n        return results[i];\r\n      }\r\n    }\r\n    return;\r\n  }\r\n  drawCircles(countries) {\r\n    this._maxCases = countries[0].TotalConfirmed;\r\n    let delay = 0;\r\n    for (let i = 0; i < countries.length; i++) {\r\n      if (this.isGeocodeInStaorage(countries[i].Country)) {\r\n        this.drawCircle(\r\n          countries[i],\r\n          JSON.parse(localStorage.getItem(countries[i].Country)).geometry\r\n            .location,\r\n        );\r\n      } else {\r\n        this.throttleGeocodeRequest(countries[i], delay);\r\n        delay += 35;\r\n      }\r\n    }\r\n  }\r\n  throttleGeocodeRequest(countries, delay) {\r\n    setTimeout(async () => {\r\n      const res = await this.geocodeHandler(countries.Country, requestGeocode);\r\n      localStorage.setItem(countries.Country, JSON.stringify(res));\r\n      this.drawCircle(countries, res.geometry.location);\r\n    }, delay);\r\n  }\r\n  drawCircle(country, position) {\r\n    const color = this.calculateColor(country.TotalConfirmed);\r\n    const casesCircle = new google.maps.Circle({\r\n      strokeColor: color,\r\n      strokeOpacity: 0.8,\r\n      strokeWeight: 2,\r\n      fillColor: color,\r\n      fillOpacity: 0.35,\r\n      map: this._map,\r\n      center: position,\r\n      radius: Math.sqrt(country.TotalConfirmed) * 400,\r\n    });\r\n    // casesCircle.addListener('click', e => {\r\n    //   const infowindow = new google.maps.InfoWindow({\r\n    //     content: country.TotalConfirmed.toString(),\r\n    //     position,\r\n    //   });\r\n\r\n    //   infowindow.open(this.map, casesCircle);\r\n    // });\r\n  }\r\n  calculateColor(value) {\r\n    const x = Math.round((255 * value) / this._maxCases);\r\n    if (x === 0) return `#b2ff00`;\r\n    if (x <= 255) return `#ff${this.colorToHex(255 - x)}00`;\r\n    if (x > 255) return '#ff0000';\r\n  }\r\n  colorToHex(num) {\r\n    const x = num.toString(16);\r\n    return x.length === 1 ? '0' + x : x;\r\n  }\r\n  calculateZoom(result) {\r\n    const northeast = result.geometry.bounds.northeast;\r\n    const southwest = result.geometry.bounds.southwest;\r\n    const temp = Math.sqrt(\r\n      Math.pow(northeast.lat - southwest.lat, 2) +\r\n        Math.pow(northeast.lng - southwest.lng, 2),\r\n    );\r\n    if (temp < 10) {\r\n      return 6;\r\n    } else if (temp < 20) {\r\n      return 5;\r\n    } else if (temp < 100) {\r\n      return 4;\r\n    } else return 3;\r\n  }\r\n}\r\n","import countryListTemplate from '../templates/listOfCountries.hbs';\r\nimport extendedInfoTemplate from '../templates/extendedInfo.hbs';\r\nimport { requestCovidData } from './Helpers';\r\n\r\nexport class CountriesList {\r\n  constructor({ selector, extInfoSelector }) {\r\n    this.listRef = document.querySelector(selector);\r\n    this.extInfoRef = document.querySelector(extInfoSelector);\r\n    this.init();\r\n  }\r\n  init() {\r\n    this.responseDataHandler();\r\n    this.listRef.addEventListener('click', this.clickHandler.bind(this));\r\n  }\r\n  async responseDataHandler() {\r\n    const { Countries } = await requestCovidData();\r\n    this._countries = this.normalizeData(Countries);\r\n\r\n    this.drawContent();\r\n  }\r\n  normalizeData(data) {\r\n    const temp = data.map(item => {\r\n      if (item.Country === 'Georgia') item.Country = 'Georgia country';\r\n      if (item.Country === 'Togo') item.Country = 'Togolese Republic';\r\n      if (item.Country === 'Tanzania, United Republic of')\r\n        item.Country = 'United Republic of Tanzania';\r\n      if (item.Country === 'Jordan')\r\n        item.Country = 'Hashemite Kingdom of Jordan';\r\n      return item;\r\n    });\r\n    return temp.sort((a, b) => b.TotalConfirmed - a.TotalConfirmed);\r\n  }\r\n  drawContent() {\r\n    this.listRef.innerHTML = countryListTemplate(this._countries);\r\n    this._map.drawCircles(this._countries);\r\n    this.drawExtInfo(this._countries[0]);\r\n    this._map.panTo(this._countries[0].Country);\r\n  }\r\n  drawExtInfo(country) {\r\n    this.extInfoRef.innerHTML = extendedInfoTemplate(country);\r\n  }\r\n  chooseCountry(target) {\r\n    if (target.dataset.hasOwnProperty('country')) {\r\n      return target.dataset.country;\r\n    }\r\n    return this.chooseCountry(target.parentNode);\r\n  }\r\n  bindMap(map) {\r\n    this._map = map;\r\n  }\r\n  clickHandler(e) {\r\n    const country = this.chooseCountry(e.target);\r\n    this.drawExtInfo(this._countries.find(item => item.Country === country));\r\n    this._map.panTo(country);\r\n  }\r\n}\r\n","import './scss/main.scss';\r\nimport { GoogleMap } from './js/googleMap';\r\nimport { CountriesList } from './js/CountriesList';\r\n\r\nconst map = new GoogleMap({ mapId: 'map' });\r\nconst countryList = new CountriesList({\r\n  selector: '.countries-list-wrapper',\r\n  extInfoSelector: '.extended-info',\r\n});\r\ncountryList.bindMap(map);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2 class=\\\"country__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"Country\") || (depth0 != null ? lookupProperty(depth0,\"Country\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"Country\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":27},\"end\":{\"line\":1,\"column\":38}}}) : helper)))\n    + \" - <span class=\\\"country__title--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"TotalConfirmed\") || (depth0 != null ? lookupProperty(depth0,\"TotalConfirmed\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"TotalConfirmed\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":78},\"end\":{\"line\":1,\"column\":96}}}) : helper)))\n    + \"</span></h2>\\r\\n<ul class=\\\"country__list\\\">\\r\\n    <li class=\\\"country__info\\\">Total cases: <span class=\\\"country__info--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"TotalConfirmed\") || (depth0 != null ? lookupProperty(depth0,\"TotalConfirmed\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"TotalConfirmed\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":79},\"end\":{\"line\":3,\"column\":97}}}) : helper)))\n    + \"</span></li>\\r\\n    <li class=\\\"country__info\\\">Total deaths: <span class=\\\"country__info--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"TotalDeaths\") || (depth0 != null ? lookupProperty(depth0,\"TotalDeaths\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"TotalDeaths\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":80},\"end\":{\"line\":4,\"column\":95}}}) : helper)))\n    + \"</span></li>\\r\\n    <li class=\\\"country__info\\\">Total recovered: <span class=\\\"country__info--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"TotalRecovered\") || (depth0 != null ? lookupProperty(depth0,\"TotalRecovered\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"TotalRecovered\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":83},\"end\":{\"line\":5,\"column\":101}}}) : helper)))\n    + \"</span></li>\\r\\n    <li class=\\\"country__info\\\">New cases: <span class=\\\"country__info--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"NewConfirmed\") || (depth0 != null ? lookupProperty(depth0,\"NewConfirmed\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"NewConfirmed\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":77},\"end\":{\"line\":6,\"column\":93}}}) : helper)))\n    + \"</span></li>\\r\\n    <li class=\\\"country__info\\\">New deaths: <span class=\\\"country__info--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"NewDeaths\") || (depth0 != null ? lookupProperty(depth0,\"NewDeaths\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"NewDeaths\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":78},\"end\":{\"line\":7,\"column\":91}}}) : helper)))\n    + \"</span></li>\\r\\n    <li class=\\\"country__info\\\">New recovered: <span class=\\\"country__info--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"NewRecovered\") || (depth0 != null ? lookupProperty(depth0,\"NewRecovered\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"NewRecovered\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":81},\"end\":{\"line\":8,\"column\":97}}}) : helper)))\n    + \"</span></li>\\r\\n</ul>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"country\\\" data-country=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"Country\") : depth0), depth0))\n    + \"\\\">\\r\\n\"\n    + ((stack1 = container.invokePartial(require(\"./country.hbs\"),depth0,{\"name\":\"./country.hbs\",\"data\":data,\"indent\":\"        \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"    </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"countries-list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":6,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"usePartial\":true,\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2 class=\\\"country__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"Country\") || (depth0 != null ? lookupProperty(depth0,\"Country\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"Country\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":27},\"end\":{\"line\":1,\"column\":38}}}) : helper)))\n    + \" - <span class=\\\"country__title--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"TotalConfirmed\") || (depth0 != null ? lookupProperty(depth0,\"TotalConfirmed\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"TotalConfirmed\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":78},\"end\":{\"line\":1,\"column\":96}}}) : helper)))\n    + \"</span></h2>\";\n},\"useData\":true});"],"sourceRoot":""}