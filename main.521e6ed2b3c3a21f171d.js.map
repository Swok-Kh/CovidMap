{"version":3,"sources":["webpack:///./js/Helpers/index.js","webpack:///./js/googleMap.js","webpack:///./js/CountriesList.js","webpack:///./index.js","webpack:///./templates/extendedInfo.hbs","webpack:///./templates/listOfCountries.hbs","webpack:///./templates/country.hbs"],"names":["GOOGLE_KEY","requestCovidData","fetch","data","json","requestGeocode","country","calculateColor","targetValue","maxValue","x","Math","round","num","toString","length","colorToHex","GoogleMap","mapId","this","_mapId","scriptInit","init","_map","google","maps","Map","document","getElementById","center","lat","lng","zoom","styles","mapStyle","disableDefaultUI","_script","createElement","defer","async","type","src","head","append","onload","panTo","isGeocodeInStaorage","panToCountry","JSON","parse","localStorage","getItem","geocodeHandler","setZoom","setTimeout","geometry","location","calculateZoom","request","cb","results","i","types","includes","drawCircles","countries","_maxCases","TotalConfirmed","delay","Country","drawCircle","throttleGeocodeRequest","res","setItem","stringify","position","color","Circle","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","map","radius","sqrt","result","northeast","bounds","southwest","temp","pow","CountriesList","selector","extInfoSelector","listRef","querySelector","extInfoRef","responseDataHandler","addEventListener","clickHandler","bind","Countries","_countries","normalizeData","drawContent","sort","a","b","item","array","innerHTML","countryListTemplate","drawExtInfo","extendedInfoTemplate","chooseCountry","target","dataset","hasOwnProperty","parentNode","bindMap","e","find","Handlebars","module","exports","template","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","call","stack1","lambda","invokePartial","decorators","program","noop"],"mappings":"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","file":"main.521e6ed2b3c3a21f171d.js","sourcesContent":["export const GOOGLE_KEY = 'AIzaSyCt4W1fPSOmqULFw73S3-zkHycP0_5iG50';\r\n\r\nexport async function requestCovidData() {\r\n  const data = await fetch('https://api.covid19api.com/summary');\r\n  return data.json();\r\n}\r\n\r\nexport async function requestGeocode(country) {\r\n  const data = await fetch(\r\n    `https://maps.googleapis.com/maps/api/geocode/json?address=${country}&key=${GOOGLE_KEY}`,\r\n  );\r\n  return data.json();\r\n}\r\nexport async function requestGeocodeLatLng(latlng) {\r\n  const data = await fetch(\r\n    `https://maps.googleapis.com/maps/api/geocode/json?latlng=${latlng.lat},${latlng.lng}&key=${GOOGLE_KEY}`,\r\n  );\r\n  return data.json();\r\n}\r\n\r\n// Getting max value and target value, and calculating color in HEX from orange to red.\r\n// For zero value returning green color\r\nexport function calculateColor(targetValue, maxValue) {\r\n  const x = Math.round((255 * targetValue) / maxValue);\r\n  if (x === 0) return `#b2ff00`;\r\n  if (x <= 255) return `#ff${colorToHex(255 - x)}00`;\r\n  if (x > 255) return '#ff0000';\r\n}\r\nfunction colorToHex(num) {\r\n  const x = num.toString(16);\r\n  return x.length === 1 ? '0' + x : x;\r\n}\r\n","import mapStyle from './mapStyle.json';\r\nimport {\r\n  GOOGLE_KEY,\r\n  requestGeocode,\r\n  requestGeocodeLatLng,\r\n  calculateColor,\r\n} from './Helpers';\r\n\r\nexport class GoogleMap {\r\n  constructor({ mapId }) {\r\n    this._mapId = mapId;\r\n    this.scriptInit();\r\n  }\r\n  init() {\r\n    this._map = new google.maps.Map(document.getElementById(this._mapId), {\r\n      center: { lat: 0, lng: 0 },\r\n      zoom: 4,\r\n      styles: mapStyle,\r\n      disableDefaultUI: true,\r\n    });\r\n  }\r\n  scriptInit() {\r\n    this._script = document.createElement('script');\r\n    this._script.defer = true;\r\n    this._script.async = true;\r\n    this._script.type = 'text/javascript';\r\n    this._script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_KEY}`;\r\n    document.head.append(this._script);\r\n    this._script.onload = () => this.init();\r\n  }\r\n  async panTo(country) {\r\n    this.isGeocodeInStaorage(country)\r\n      ? this.panToCountry(JSON.parse(localStorage.getItem(country)))\r\n      : this.panToCountry(await this.geocodeHandler(country, requestGeocode));\r\n  }\r\n  panToCountry(country) {\r\n    this._map.setZoom(2);\r\n    setTimeout(() => {\r\n      this._map.panTo(country.geometry.location);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this._map.setZoom(this.calculateZoom(country));\r\n    }, 1000);\r\n  }\r\n  isGeocodeInStaorage(country) {\r\n    if (\r\n      localStorage.getItem(country) !== null ||\r\n      localStorage.getItem(country) === 'undefined'\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  async geocodeHandler(request, cb) {\r\n    const { results } = await cb(request);\r\n    for (let i = 0; i < results.length; i += 1) {\r\n      if (\r\n        (results[i].types.includes('country') &&\r\n          results[i].types.includes('political')) ||\r\n        (results[i].types.includes('locality') &&\r\n          results[i].types.includes('political'))\r\n      ) {\r\n        return results[i];\r\n      }\r\n    }\r\n    return;\r\n  }\r\n  drawCircles(countries) {\r\n    this._maxCases = countries[0].TotalConfirmed;\r\n    let delay = 0;\r\n    for (let i = 0; i < countries.length; i++) {\r\n      if (this.isGeocodeInStaorage(countries[i].Country)) {\r\n        this.drawCircle(\r\n          countries[i],\r\n          JSON.parse(localStorage.getItem(countries[i].Country)).geometry\r\n            .location,\r\n        );\r\n      } else {\r\n        this.throttleGeocodeRequest(countries[i], delay);\r\n        delay += 35;\r\n      }\r\n    }\r\n  }\r\n  throttleGeocodeRequest(countries, delay) {\r\n    setTimeout(async () => {\r\n      const res = await this.geocodeHandler(countries.Country, requestGeocode);\r\n      localStorage.setItem(countries.Country, JSON.stringify(res));\r\n      this.drawCircle(countries, res.geometry.location);\r\n    }, delay);\r\n  }\r\n  drawCircle(country, position) {\r\n    const color = calculateColor(country.TotalConfirmed, this._maxCases);\r\n    const casesCircle = new google.maps.Circle({\r\n      strokeColor: color,\r\n      strokeOpacity: 0.8,\r\n      strokeWeight: 2,\r\n      fillColor: color,\r\n      fillOpacity: 0.35,\r\n      map: this._map,\r\n      center: position,\r\n      radius: Math.sqrt(country.TotalConfirmed) * 400,\r\n    });\r\n    // casesCircle.addListener('click', e => {\r\n    //   const infowindow = new google.maps.InfoWindow({\r\n    //     content: country.TotalConfirmed.toString(),\r\n    //     position,\r\n    //   });\r\n\r\n    //   infowindow.open(this.map, casesCircle);\r\n    // });\r\n  }\r\n  calculateZoom(result) {\r\n    const northeast = result.geometry.bounds.northeast;\r\n    const southwest = result.geometry.bounds.southwest;\r\n    const temp = Math.sqrt(\r\n      Math.pow(northeast.lat - southwest.lat, 2) +\r\n        Math.pow(northeast.lng - southwest.lng, 2),\r\n    );\r\n    if (temp < 10) {\r\n      return 6;\r\n    } else if (temp < 20) {\r\n      return 5;\r\n    } else if (temp < 100) {\r\n      return 4;\r\n    } else return 3;\r\n  }\r\n}\r\n","import countryListTemplate from '../templates/listOfCountries.hbs';\r\nimport extendedInfoTemplate from '../templates/extendedInfo.hbs';\r\nimport { requestCovidData, calculateColor } from './Helpers';\r\n\r\nexport class CountriesList {\r\n  constructor({ selector, extInfoSelector }) {\r\n    this.listRef = document.querySelector(selector);\r\n    this.extInfoRef = document.querySelector(extInfoSelector);\r\n    this.init();\r\n  }\r\n  init() {\r\n    this.responseDataHandler();\r\n    this.listRef.addEventListener('click', this.clickHandler.bind(this));\r\n  }\r\n  async responseDataHandler() {\r\n    const { Countries } = await requestCovidData();\r\n    this._countries = this.normalizeData(Countries);\r\n    this.drawContent();\r\n  }\r\n  normalizeData(data) {\r\n    return [...data]\r\n      .sort((a, b) => b.TotalConfirmed - a.TotalConfirmed)\r\n      .map((item, i, array) => {\r\n        if (item.Country === 'Georgia') item.Country = 'Georgia country';\r\n        if (item.Country === 'Togo') item.Country = 'Togolese Republic';\r\n        if (item.Country === 'Tanzania, United Republic of')\r\n          item.Country = 'United Republic of Tanzania';\r\n        if (item.Country === 'Jordan')\r\n          item.Country = 'Hashemite Kingdom of Jordan';\r\n        item.color = calculateColor(\r\n          item.TotalConfirmed,\r\n          array[0].TotalConfirmed,\r\n        );\r\n        return item;\r\n      });\r\n  }\r\n  drawContent() {\r\n    this.listRef.innerHTML = countryListTemplate(this._countries);\r\n    this._map.drawCircles(this._countries);\r\n    this.drawExtInfo(this._countries[0]);\r\n    this._map.panTo(this._countries[0].Country);\r\n  }\r\n  drawExtInfo(country) {\r\n    this.extInfoRef.innerHTML = extendedInfoTemplate(country);\r\n  }\r\n  chooseCountry(target) {\r\n    if (target.dataset.hasOwnProperty('country')) {\r\n      return target.dataset.country;\r\n    }\r\n    return this.chooseCountry(target.parentNode);\r\n  }\r\n  bindMap(map) {\r\n    this._map = map;\r\n  }\r\n  clickHandler(e) {\r\n    const country = this.chooseCountry(e.target);\r\n    this.drawExtInfo(this._countries.find(item => item.Country === country));\r\n    this._map.panTo(country);\r\n  }\r\n}\r\n","import './scss/main.scss';\r\nimport { GoogleMap } from './js/googleMap';\r\nimport { CountriesList } from './js/CountriesList';\r\n\r\nconst map = new GoogleMap({ mapId: 'map' });\r\nconst countryList = new CountriesList({\r\n  selector: '.countries-list-wrapper',\r\n  extInfoSelector: '.extended-info-wrapper',\r\n});\r\ncountryList.bindMap(map);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2 class=\\\"extended-info__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"Country\") || (depth0 != null ? lookupProperty(depth0,\"Country\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"Country\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":33},\"end\":{\"line\":1,\"column\":44}}}) : helper)))\n    + \"</h2>\\r\\n<ul class=\\\"extended-info__list\\\">\\r\\n    <li class=\\\"extended-info__text\\\">Total cases: <span class=\\\"extended-info__text--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"TotalConfirmed\") || (depth0 != null ? lookupProperty(depth0,\"TotalConfirmed\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"TotalConfirmed\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":91},\"end\":{\"line\":3,\"column\":109}}}) : helper)))\n    + \"</span>\\r\\n    </li>\\r\\n    <li class=\\\"extended-info__text\\\">Total deaths: <span class=\\\"extended-info__text--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"TotalDeaths\") || (depth0 != null ? lookupProperty(depth0,\"TotalDeaths\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"TotalDeaths\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":92},\"end\":{\"line\":5,\"column\":107}}}) : helper)))\n    + \"</span></li>\\r\\n    <li class=\\\"extended-info__text\\\">Total recovered: <span class=\\\"extended-info__text--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"TotalRecovered\") || (depth0 != null ? lookupProperty(depth0,\"TotalRecovered\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"TotalRecovered\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":95},\"end\":{\"line\":6,\"column\":113}}}) : helper)))\n    + \"</span>\\r\\n    </li>\\r\\n    <li class=\\\"extended-info__text\\\">New cases: <span class=\\\"extended-info__text--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"NewConfirmed\") || (depth0 != null ? lookupProperty(depth0,\"NewConfirmed\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"NewConfirmed\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":89},\"end\":{\"line\":8,\"column\":105}}}) : helper)))\n    + \"</span></li>\\r\\n    <li class=\\\"extended-info__text\\\">New deaths: <span class=\\\"extended-info__text--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"NewDeaths\") || (depth0 != null ? lookupProperty(depth0,\"NewDeaths\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"NewDeaths\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":90},\"end\":{\"line\":9,\"column\":103}}}) : helper)))\n    + \"</span></li>\\r\\n    <li class=\\\"extended-info__text\\\">New recovered: <span class=\\\"extended-info__text--accent\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"NewRecovered\") || (depth0 != null ? lookupProperty(depth0,\"NewRecovered\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"NewRecovered\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":93},\"end\":{\"line\":10,\"column\":109}}}) : helper)))\n    + \"</span>\\r\\n    </li>\\r\\n</ul>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"country\\\" data-country=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"Country\") : depth0), depth0))\n    + \"\\\">\\r\\n\"\n    + ((stack1 = container.invokePartial(require(\"./country.hbs\"),depth0,{\"name\":\"./country.hbs\",\"data\":data,\"indent\":\"        \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"    </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"countries-list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":6,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"usePartial\":true,\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2 class=\\\"country__title\\\"><span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"Country\") || (depth0 != null ? lookupProperty(depth0,\"Country\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"Country\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":33},\"end\":{\"line\":1,\"column\":44}}}) : helper)))\n    + \"</span><span class=\\\"country__title--accent\\\"\\r\\n                style=\\\"color: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"color\") || (depth0 != null ? lookupProperty(depth0,\"color\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"color\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":30},\"end\":{\"line\":2,\"column\":39}}}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"TotalConfirmed\") || (depth0 != null ? lookupProperty(depth0,\"TotalConfirmed\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"TotalConfirmed\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":41},\"end\":{\"line\":2,\"column\":59}}}) : helper)))\n    + \"</span></h2>\";\n},\"useData\":true});"],"sourceRoot":""}